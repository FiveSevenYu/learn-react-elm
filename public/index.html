<!DOCTYPE html>
<html>
<head>
  <!-- set `maximum-scale` for some compatibility issues -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
  <script src="https://as.alipayobjects.com/g/component/fastclick/1.0.6/fastclick.js"></script>
  <link rel="icon" href="https://github.com/favicon.ico">
  <script>
    if ('addEventListener' in document) {
      document.addEventListener('DOMContentLoaded', function() {
        FastClick.attach(document.body);
      }, false);
    }
    if(!window.Promise) {
      document.writeln('<script src="https://as.alipayobjects.com/g/component/es6-promise/3.2.2/es6-promise.min.js"'+'>'+'<'+'/'+'script>');
    }
  </script>
</head>
<body>
  <div id="root"></div>
  <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=As8uHhMl5R9TLlD26fKwo43qeNMKcsWz"></script>
  <script>
    // 用百度地图API获取地理位置
    window.lat = undefined;
    window.lng = undefined;
    var geolocation = new BMap.Geolocation();
      geolocation.getCurrentPosition(function(r){
        if(this.getStatus() == BMAP_STATUS_SUCCESS){
          var mk = new BMap.Marker(r.point);
          window.lat=r.point.lat;   //window.lat是在其他页面设置的全局变量
          window.lng=r.point.lng;   //window.lng是在其他页面设置的全局变量
        }
        else {
          alert('failed'+this.getStatus());
        }        
      },{enableHighAccuracy: true});
  </script>
</body>
</html>